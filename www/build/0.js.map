{"version":3,"sources":["../../src/pages/payment/payment.module.ts","../../src/pages/payment/payment.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {PaymentPage} from './payment';\nimport {ComponentsModule} from \"../../components/components.module\";\n\n@NgModule({\n  declarations: [\n    PaymentPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(PaymentPage),\n  ],\n})\nexport class PaymentPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment/payment.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, ModalController, NavController, NavParams} from 'ionic-angular';\nimport {SettingProvider} from \"../../providers/setting/setting\";\nimport {RequestProvider} from \"../../providers/request/request\";\nimport {Clipboard} from '@ionic-native/clipboard';\nimport {QrComponent} from \"../../components/qr/qr\";\nimport {ConfirmComponent} from \"../../components/confirm/confirm\";\nimport { HttpClient } from  '@angular/common/http';\n\n/**\n * Generated class for the PaymentPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-payment',\n  templateUrl: 'payment.html',\n})\nexport class PaymentPage {\n\n  btcAmount = 0.1;\n  convertRate = 44367;\n  cnyAmount = this.btcAmount * this.convertRate;\n  balance = 100;\n  address = \"1F1tAaz5x1HUXrCNLbtMDqcw6o5GNn4xqX\";\n  public price: any;\n\n  public people: any;\n\n  constructor(public navCtrl: NavController,\n              public clipboard: Clipboard,\n              public setting: SettingProvider,\n              public httpRequest: RequestProvider,\n              public modalCtrl: ModalController,\n              public httpClient: HttpClient,\n              public navParams: NavParams) {\n  }\n\n  getPrice(){\n    this.httpRequest.get(\"https://api.coinbase.com/v2/prices/spot?currency=CNY\").then(data => {\n      this.price = data;\n      this.convertRate = this.price.data.amount;\n      console.log(this.convertRate);\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PaymentPage');\n    this.getPrice();\n  }\n\n  updateBtc() {\n    this.cnyAmount = this.cnyAmount;\n    this.btcAmount = this.cnyAmount / this.convertRate;\n  }\n\n  updateCny() {\n    this.btcAmount = this.btcAmount;\n    this.cnyAmount = this.convertRate * this.btcAmount;\n  }\n\n  copyToClipBoard(data) {\n    this.clipboard.copy('Hello world');\n    this.setting.presentToast(\"Copied:\" + data);\n  }\n\n  presentContactModal() {\n    let contactModal = this.modalCtrl.create(QrComponent,\n      {address: this.address},\n      {showBackdrop: true, enableBackdropDismiss: false});\n    contactModal.present();\n  }\n\n  confirm() {\n    let contactModal = this.modalCtrl.create(ConfirmComponent,\n      {address: this.address, btcAmount: this.btcAmount, balance: this.balance},\n      {showBackdrop: true, enableBackdropDismiss: false});\n    this.balance =  this.balance + this.btcAmount;\n    contactModal.present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment/payment.ts"],"sourceRoot":""}